#---
# API endpoint config
# need to thing about it a bit
# polling interval could/should be per endpoint as the endpoint is polled anyway
# items could be grouped accoording to how they are handled
# could have properties like
# polling strategies:
# interval
# - always
# - stale(time)
# - changes(True/False)
# - How to send on the change (send previous)
# - goal would be to reduce the amount of times an item needs to be in the file
# - but maybe it should be ok if it is there twice...
# - also should be flexible for other situations... eg: poll hourly
# -- parameters or queries would be nice tooo

# use defaults...to define some things once...
#default intervals
# hourly_changes: &hourly_changes
#   stale: 3600
#   changes:
#     - latest: True
#     - previous: True
ten_minutes_ending_0: &ten_minutes_end_0
  fixed: [0,10,20,30,40,50]
  changes: false
  previous: false

# could have similar for queries with parameters.

sending_strategy_default:
  always: true
  stale: 300
    
key_prefix: 'huawei.lte'  # name for the start of the zabbix key
endpoint:
- name: 'device.signal'
  polling_interval: 60 # seconds
  key_list1:
      keys:
         - 'rsrq'
      always: true
  key_list2:
      keys: ['pci', 'cell_id']
      changes: false
      previous: true
      stale: 600
  key_list3:
      keys: ['ims']
      changes: true
      previous: false
      stale: 3600
- name: user.history_login
  polling_interval: 600
  key_list1:
    keys: ['last_login_state', 'last_login_time', 'last_login_ipaddr']
  <<: *ten_minutes_end_0               
- name: device.information
  polling_interval: 3600
  key_list1:
     keys: ['DeviceName', 'SerialNumber']
  key_list2:
  # key or keys can be at this level but and useds this levels sending strategy
  keys:
    - 'WifiMacAddrWl1'
    - 'spreadname_en'
  key:
    - 'spreadname_zh'
  always: true
# zabbix templates:
# - default, all items as text
# 
